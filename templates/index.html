{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}

{% block content %}
<section class="page-card home-hero fade-in">
  <div class="home-hero-main">
    <span class="hero-badge">Flask + MySQL Workshop</span>

    <h1 class="hero-title">WAOW Workshop Day 1</h1>

    <p class="hero-subtitle">
      Build a production-style dashboard with clean API routes, a custom
      frontend, and persistent data stored in your local <code>shop</code>
      database. Manage customers, products, and transactions from a single view.
    </p>

    <div class="hero-actions">
      <a href="{{ url_for('customers_page') }}" class="btn-main">Go to Customers</a>
      <a href="{{ url_for('products_page') }}" class="btn-outline">Go to Products</a>
      <a href="{{ url_for('transactions_page') }}" class="btn-outline">Go to Transactions</a>
    </div>

    <p class="hero-note">
      Tip: create a new transaction and watch the metrics and analytics update
      automatically on this page.
    </p>
  </div>

  <div class="home-hero-side">
    <div class="stat-card">
      <div class="stat-label">Module</div>
      <div class="stat-value">Day 1</div>
      <div class="stat-hint">CRUD Foundations</div>
    </div>

    <div class="stat-card">
      <div class="stat-label">Entities</div>
      <div class="stat-value">Customers Â· Products</div>
      <div class="stat-hint">Plus Transactions</div>
    </div>

    <div class="stat-card">
      <div class="stat-label">Stack</div>
      <div class="stat-value">Flask &amp; MySQL</div>
      <div class="stat-hint">Pure CSS &amp; Vanilla JS</div>
    </div>
  </div>
</section>

<section class="home-metrics fade-in">
  <div class="metric-card metric-primary">
    <div class="metric-label">Total Sales</div>
    <div class="metric-value" id="metric-sales">$0</div>
  </div>

  <div class="metric-card">
    <div class="metric-label">Total Customers</div>
    <div class="metric-value" id="metric-customers">0</div>
  </div>

  <div class="metric-card">
    <div class="metric-label">Total Products</div>
    <div class="metric-value" id="metric-products">0</div>
  </div>

  <div class="metric-card">
    <div class="metric-label">Total Transactions</div>
    <div class="metric-value" id="metric-transactions">0</div>
  </div>
</section>

<section class="page-card home-preview fade-in">
  <div class="preview-column">
    <h2 class="preview-title">Recent Customers</h2>
    <p class="preview-subtitle">
      Snapshot of the latest customer profiles in your mall dataset.
    </p>
    <ul id="preview-customers" class="preview-list">
      <li class="preview-empty">Loading customers...</li>
    </ul>
  </div>

  <div class="preview-column">
    <h2 class="preview-title">Recent Products</h2>
    <p class="preview-subtitle">
      Quick overview of products currently available in the catalog.
    </p>
    <ul id="preview-products" class="preview-list">
      <li class="preview-empty">Loading products...</li>
    </ul>
  </div>

  <div class="preview-column preview-span-2">
    <h2 class="preview-title">Top Products</h2>
    <p class="preview-subtitle">Produk yang sering dipantau di katalog.</p>

    <ul class="preview-list" id="products-preview-list">
      <li class="preview-item">
        <span class="preview-main">Loading products...</span>
        <span class="preview-meta"></span>
      </li>
    </ul>
  </div>

  <div class="preview-column preview-span-2">
    <h2 class="preview-title">Product Categories</h2>
    <p class="preview-subtitle">
      Ringkasan kategori product dan jumlah produknya.
    </p>

    <ul class="preview-list" id="categories-preview-list">
      <li class="preview-item">
        <span class="preview-main">Loading categories...</span>
        <span class="preview-meta"></span>
      </li>
    </ul>
  </div>
</section>

<section class="page-card analytics-section fade-in">
  <div class="analytics-column">
    <h2 class="analytics-title">Top Customers</h2>
    <p class="analytics-subtitle">Based on total transaction amount.</p>
    <ul id="analytics-top-customers" class="analytics-list">
      <li class="preview-empty">Waiting for data...</li>
    </ul>
  </div>

  <div class="analytics-column">
    <h2 class="analytics-title">Payment Breakdown</h2>
    <p class="analytics-subtitle">Distribution of payment methods.</p>
    <ul id="analytics-payment" class="analytics-list">
      <li class="preview-empty">Waiting for data...</li>
    </ul>
  </div>
</section>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/home.js') }}"></script>
{% endblock %}
